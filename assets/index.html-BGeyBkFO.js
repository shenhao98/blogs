import{_ as s,c as a,d as t,o as e}from"./app-E5rcR-Zh.js";const p={};function c(o,n){return e(),a("div",null,n[0]||(n[0]=[t(`<h2 id="公众号注册-sdk-问题" tabindex="-1"><a class="header-anchor" href="#公众号注册-sdk-问题"><span>公众号注册 sdk 问题</span></a></h2><p>iPhone 注册 sdk 会提示 config:invalid signature 生成签名的 url 路径</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="App.vue"><span>App.vue</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 获取第一次打开的页面路径</span></span>
<span class="line">uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;firstEntryUrl&#39;</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>href<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 在注册sdk生成签名时的url路径</span></span>
<span class="line"><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> osName <span class="token punctuation">}</span> <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getSystemInfoSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>osName <span class="token operator">===</span> <span class="token string">&#39;ios&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  url <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;firstEntryUrl&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;#&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)]))}const l=s(p,[["render",c]]),u=JSON.parse('{"path":"/miniapp/","title":"","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1768289358000,"contributors":[{"name":"沈浩","username":"","email":"1204317466@qq.com","commits":1}],"changelog":[{"hash":"3c0d306a89419a18b07babe9087db811a104a572","time":1768289358000,"email":"1204317466@qq.com","author":"沈浩","message":"docs(.vuepress/config.js): 添加新导航菜单项并更新侧边栏配置"}]},"filePathRelative":"miniapp/index.md"}');export{l as comp,u as data};
